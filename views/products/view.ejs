
<%- include('../partials/navbar') %>

<!-- Breadcrumb Start -->
<div class="container-fluid">
    <div class="row px-xl-5">
        <div class="col-12">
            <nav class="breadcrumb bg-light mb-30">
                <a class="breadcrumb-item text-dark" href="#">Home</a>
                <a class="breadcrumb-item text-dark" href="#">View</a>
          
            </nav>
        </div>
    </div>
</div>
<!-- Breadcrumb End -->


<!-- Shop Detail Start -->
<div class="container-fluid pb-5">
    <div class="row px-xl-5">
        <div class="col-lg-5 mb-30">
            <div id="product-carousel" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner bg-light">
                    <div class="carousel-item active">
                        <img class="w-100 h-100" src="<%= product.imgsrc[0] %>" alt="Image">
                    </div>
                    <div class="carousel-item">
                        <img class="w-100 h-100" src="<%= product.imgsrc[1] %>" alt="Image">
                    </div>
                    <div class="carousel-item">
                        <img class="w-100 h-100" src="<%= product.imgsrc[2] %>" alt="Image">
                    </div>
                    
                </div>
                <a class="carousel-control-prev" href="#product-carousel" data-slide="prev">
                    <i class="fa fa-2x fa-angle-left text-dark"></i>
                </a>
                <a class="carousel-control-next" href="#product-carousel" data-slide="next">
                    <i class="fa fa-2x fa-angle-right text-dark"></i>
                </a>
            </div>
        </div>

        <div class="col-lg-7 h-auto mb-30">
            <div class="h-100 bg-light p-30">
                <h3><%= product.name %></h3>
                <div class="d-flex mb-3">
                    <div class="text-primary mr-2">
                        <small class="fas fa-star"></small>
                        <small class="fas fa-star"></small>
                        <small class="fas fa-star"></small>
                        <small class="fas fa-star-half-alt"></small>
                        <small class="far fa-star"></small>
                    </div>
                    <small class="pt-1">(29 Reviews)</small>
                </div>
                <h3 class="font-weight-semi-bold mb-4"><span id="price"><%= product.price %></span> rs</h3>
                <p class="mb-4"><%= product.name %></p>
                <p class="mb-4">Ram: <%= product.specification.ram %><br>
                   Brand : <%= product.specification.brand %><br>
                    Model Name: <%= product.specification.ModelName %><br>
                    NSP : <%= product.specification.NSP %><br>
                    OS : <%= product.specification.OS %><br>
                    Cellular Technology : <%= product.specification.CellularTechnology %><br>
                   </p>
                   <h4 class="font-weight-semi-bold mb-4" >Description</h4>
                   <p class="mb-4" style="font-size:medium;"> <%= product.description %></p>
                 
                   <h4 class="font-weight-semi-bold mb-4">Final Price :<span id="finalprice"><%= product.price %></span> rs</h3>
                    <h4 class="font-weight-semi-bold mb-4">Quantity :<span id="count" class="mx-2"></span> </h3>

                    <div style="display: flex;">  <div class="d-flex">
                    <button class="btn btn-primary mr-2" onclick="decrementPrice()"><i class="fa fa-minus-circle mr-1"></i></button>
                    <button class="btn btn-primary" onclick="incrementPrice()"><i class="fa  fa-plus-circle mr-1"></i></button>
                </div>
                <a class="text-decoration-none"
                    href="/products/<%= product._id %>/fav">
                    <button class="btn btn-primary mx-3 px-3"><i class="fa fa-heart mr-1"></i> Add To Fav</button>
                </a> <a class="text-decoration-none"
                href="/products/<%= product._id %>/cart">
                <button class="btn btn-primary px-3"><i class="fa fa-shopping-cart mr-1"></i> Add To Cart</button>
            </a></div>
            </div>

        </div>
    </div>
</div>
<%- include('../partials/footer') %>

<script>
     let count = 1;
     var countElement = document.getElementById('count');
     var priceElement = document.getElementById('price');
     var finalPrice = document.getElementById('finalprice');

     countElement.innerText = count;
    function incrementPrice() {
        
       
        count++;
        countElement.innerText = count;
        var currentPrice = parseInt(priceElement.innerText);
        var updatedPrice = currentPrice  * count;
        finalPrice.innerText = updatedPrice;
   
    }

    function decrementPrice() {
        count=count-1;
        var priceElement = document.getElementById('price');
        var currentPrice = parseInt(priceElement.innerText);
        var finalPrice = document.getElementById('finalprice');
        var updatedPrice = currentPrice  * count;
        var countElement = document.getElementById('count');
    countElement.innerText = count;
        if(count<=1){
            count = 1;
            var updatedPrice = currentPrice  * count;
            finalPrice.innerText = updatedPrice;
            countElement.innerText = 1;
        }
        finalPrice.innerText = updatedPrice;
    }
 
    console.log(count);
</script>